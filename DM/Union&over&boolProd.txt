// union & overlapping/ intersection  & boolean prod

#include <iostream>
#include <vector>
using namespace std;
#define en cout<<'\n';
using ll = long long;
bool** GetUnion(int m, int n, bool** a, int x, int y, bool** b, bool** Union)
{
	if (n == m && x == y && n == y)
	{
		for (int i = 0; i < n; i++)
		{
			for (int j = 0; j < n; j++)
			{
				Union[i][j] = a[i][j] || b[i][j];
			}
			
		}
		return Union;
	}
	else
	{
		cout << "Not of equal sizes or not square !!!\n";
		exit(-1);
	}
}

bool** GetOverlapping(int m, int n, bool** a, int x, int y, bool** b, bool** Overlapping)
{
	if (n == m && x == y && n == y)
	{
		for (int i = 0; i < n; i++)
		{
			for (int j = 0; j < n; j++)
			{
				Overlapping[i][j] = a[i][j] && b[i][j];
			}

		}
		return Overlapping;
	}
	else
	{
		cout << "Not of equal sizes or not square !!!\n";
		exit(-1);
	}
}

bool** GetBoolProd(int m, int n, bool** a, int x, int y, bool** b)
{
	if(n != x)
	{
		cout << "not compatible\n";
		exit(-1);
	}
	else
	{
		// init
		bool** BoolProd = new bool* [m];
		for (int i = 0; i < y; i++)
		{
			BoolProd[i] = new bool(0);
		}
		for (int i = 0; i < n; i++)
		{
			for (int j = 0; j < y; j++)
			{
				BoolProd[i][j] = 0;
			}
			cout << '\n';
		}
		// set
		for (int i = 0; i < m; i++)
		{
			for (int j = 0; j < y; j++)
			{
				
				for (int k = 0; k < m; k++)
				{
					BoolProd[i][j] += a[i][k] * b[k][j];
				}
			}
		}

		// print
		for (int i = 0; i < n; i++)
		{
			for (int j = 0; j < y; j++)
			{
				cout << BoolProd[i][j] << ' ';
			}
			cout << '\n';
		}
	}
}

int main()
{
	// get data
	cout << "size of a m*n?\n";
	int m; cin >> m;
	int n; cin >> n;
	bool** a = new bool* [m];
	for (int i = 0; i < n; i++)
	{
		a[i] = new bool(0);
	}
	for (int i = 0; i < m; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cin >> a[i][j];
		}
	}
	cout << "size of b x*y?\n";
	int x; cin >> x;
	int y; cin >> y;
	bool** b = new bool* [x];
	for (int i = 0; i < y; i++)
	{
		b[i] = new bool(0);
	}
	for (int i = 0; i < x; i++)
	{
		for (int j = 0; j < y; j++)
		{
			cin >> b[i][j];
		}
	}

	// UNION
	cout << "UNION\n";
	bool** Union = new bool* [n];
	for (int i = 0; i < m; i++)
	{
		Union[i] = new bool(0);
	}
	GetUnion(n, m, a, x, y, b, Union);
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cout << Union[i][j] << ' ';
		}
		cout << '\n';
	}
	cout << '\n'; cout << '\n';

	// OVERLAPPING
	cout << "OVERLAPPING\n";
	bool** Overlapping = new bool* [n];
	for (int i = 0; i < m; i++)
	{
		Overlapping[i] = new bool(0);
	}
	GetOverlapping(n, m, a, x, y, b, Overlapping);
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cout << Overlapping[i][j] << ' ';
		}
		cout << '\n';
	}
	cout << '\n'; cout << '\n';
	cout << "Bool prod\n";
	GetBoolProd(m, n, a, x, y, b);
}
